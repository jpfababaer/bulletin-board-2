<div>
  <div>
    <h1>
      All boards
    </h1>
  </div>
</div>

<hr>
<!--20 Implement a User authentication using Devise's current_user. This blocks an anonymous user from just adding boards. SEARCH app/views/posts/index -->
<div>
  <% if current_user != nil %>
  <div>
    <h2>
      Add a new board
    </h2>

    <form action="/insert_board" method="post">
      <div>
        <label for="name_box">
          Name
        </label>

        <input type="text" id="name_box" name="query_name">
      </div>

      <button>
        Add board
      </button>
    </form>
  </div>
  <% else %>
    <p>Must be <a href="/users/sign_in">signed in</a> to add a new board</p>
  <% end %>

  
</div>

<hr>

<ul>
  <% @list_of_boards.each do |a_board| %>
    <li>
      <a href="/boards/<%= a_board.id %>">
        <%= a_board.name %>
      </a>
      <div>
        <% matching_user = User.where({id: a_board.user_id }) %>
        <% the_user = matching_user.at(0) %>
        Owner: <%= the_user.email %>
      </div>
      
    </li>

    <hr>
  <% end %>
</ul>
